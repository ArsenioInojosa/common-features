<Project>
  <Import Project="$(MSBuildThisFileDirectory)..\build\package-cf.props" Condition="Exists('$(MSBuildThisFileDirectory)..\build\package-cf.props')" />
  <PropertyGroup>
    <TargetFramework>net5.0</TargetFramework>
    <AddRazorSupportForMvc>true</AddRazorSupportForMvc>
    <SerenityDir Condition="'$(SerenityDir)' == '' And Exists('$(SolutionDir)Serenity\')">$(SolutionDir)Serenity\</SerenityDir>
    <SerenityDir Condition="'$(SerenityDir)' == '' And Exists('$(MSBuildThisFileDirectory)..\Serenity\')">$(MSBuildThisFileDirectory)..\Serenity\</SerenityDir>
    <SerenityDir Condition="'$(SerenityDir)' == '' And Exists('$(MSBuildThisFileDirectory)..\..\Serenity\')">$(MSBuildThisFileDirectory)..\..\Serenity\</SerenityDir>
    <SerenitySrc Condition="'$(SerenitySrc)' == ''">$(SerenityDir)src\</SerenitySrc>
    <SerenityWebProj Condition="'$(SerenityWebProj)' == ''">$(SerenitySrc)Serenity.Net.Web\Serenity.Net.Web.csproj</SerenityWebProj>
    <DotNetSergenExe>$(SerenitySrc)Serenity.Net.CodeGenerator\bin\Debug\net5.0\sergen.exe</DotNetSergenExe>
    <DotNetSergen Condition="'$(DotNetSergen)' == '' And Exists('$(DotNetSergenExe)')">$(DotNetSergenExe)</DotNetSergen>
    <DotNetSergen Condition="'$(DotNetSergen)' == ''">dotnet sergen</DotNetSergen>
  </PropertyGroup>
  <PropertyGroup>
    <NewtonsoftJsonVersion Condition="'$(NewtonsoftJsonVersion)' == ''">12.0.3</NewtonsoftJsonVersion>
    <FrameworkPackageVersion Condition="'$(FrameworkPackageVersion)' == ''">5.0.0</FrameworkPackageVersion>
    <AspNetCorePackageVersion Condition="'$(AspNetCorePackageVersion)' == ''">5.0.0</AspNetCorePackageVersion>
    <SerenityVersion Condition="'$(SerenityVersion)' == ''">5.0.19</SerenityVersion>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
  </PropertyGroup>
  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App" Condition="'$(UsingMicrosoftNETSdkWeb)' != 'true'" />
    <PackageReference Include="Serenity.Net.Web" Version="$(SerenityVersion)" />
  </ItemGroup>
  <ItemGroup Condition="Exists('$(SerenityWebProj)')">
    <ProjectReference Include="$(SerenityWebProj)" />
  </ItemGroup>
  <ItemGroup>
    <None Include="$(SerenityDir)build\assets\package-icon.png" Pack="true" PackagePath="">
      <Link>Properties\package-icon.png</Link>
    </None>
  </ItemGroup>
</Project>